/**
 * Module to help the user fix module relations
 *
 * @module     block_course_converter/autofix
 * @copyright  2025 Bastian Schmidt-Kuhl <bastian.schmidt-kuhl@ruhr-uni-bochum.de>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_course_converter/autofix",["jquery","core/ajax"],(function($,ajax){return{init:function(){$(document).on("click",".apply-fix",(function(){const data={moduleid:$(this).data("module-id"),requiredid:$(this).data("required-id"),relation:$(this).data("relation-type")};ajax.call([{methodname:"block_course_converter_add_restriction",args:data}])[0].then((function(response){return response.success?ajax.call([{methodname:"block_course_converter_log_action",args:{moduleid:data.moduleid,relation:data.relation,relatedto:data.requiredid}}])[0]:Promise.reject(response.message)})).then((function(logResponse){console.log("Action logged:",logResponse),window.location.reload()})).catch((function(error){console.error("Error:",error)}))}))}}}));

//# sourceMappingURL=autofix.min.js.map